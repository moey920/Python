# 정규표현식

- 복잡한 문자열을 처리할 때 사용하는 도구
- 특정 프로그래밍 언어에 종속된 문법을 가진 것이 아니라 문자열을 처리하는 곳이라면 폭넓게 사용 가능한 도구
- 파이썬의 기본 모듈 중 re모듈이 정규표현식을 지원

### 정규표현식이 없다면?

> 보안을 위해 고객 정보 중 전화번호 가운데 자리의 숫자는 * 문자로 변경하세요
```
text = '''
Elice 123456-1234567 010-1234-5678
Cheshire 345678-678901 01098765432
'''
```
    이 문제를 정규식을 사용하지 않고 풀려면 매우 복잡하게 풀어야 합니다.

    - 전체 텍스트를 공백 문자를 기준으로 나눈다.
    - 나누어진 문자열이 전화번호 형식인지 점검한다.
    - 전화번호를 다시 나누어 가운데 자리의 숫자를 *로 변환한다.
    - 나눈 문자열을 다시 합쳐 전화번호를 완성한다.

### 정규표현식을 이용한다면?

> 원하는 형식의 문자열을 검색할 때 메타문자와 수량자 등 다양한 패턴을 사용하여 매치하고, 
그룹핑을 이용하여 원하는 부분만 골라내고 re모듈의 메서드로 문자열을 수정할 수도 있다.

## 정규식 객체 - 복잡하고 긴 정규식을 여러번 사용할 때 유용

```
import re

text = "abcdefg"

pattern = re.compile("e")

print("정규식 객체의 자료형 : ", type(pattern))

print("정규식 객체 사용하는 경우 : ", pattern.findall(text))

print("객체를 사용하지 않는 경우 : ", re.findall("e", text))
```

> ```re.compile()``` 함수는 문자열 패턴을 컴파일하여 정규식 객체를 반환합니다.

- 어떤 정규식을 코드 내에서 여러 번 사용하고자 할 때 re.compile() 함수로 정규식 객체를 만들어 사용합니다.
- re 모듈의 함수는 re클래스의 함수도 있지만, 정규식 객체에서 호출하기도 합니다.
- 10행에서는 pattern 변수의 findall 함수를 호출하고, 12행에서는 re 모듈의 findall 함수를 호출합니다.
- 함수의 인자도 10행에서는 1개, 12행에서는 2개로 각각 다르다, 그러나 결과값은 동일하다.
- 이처럼 re.compile() 함수는 정의한 정규표현식을 여러 번 사용할 때 주로 이용

## re 모듈의 대표적인 함수

### 정규식 검사 함수

> 문자열에 대해 정규식으로 검사하는 함수는 대표적으로 re.match(), re.search(), re.findall(), re.finditer() 이렇게 4가지가 있다.

| 함수 이름 | 기능 |
|:---:|:---:|
| re.match(pattern, string)	| **string** **시작 부분부터** 패턴이 존재하는지 검사하여 **MatchObject**를 반환함. |
| re.search(pattern, string) | **string** 전체에서 **pattern**이 존재하는지 검사하여 **MatchObject**를 반환함. |
| re.findall(pattern, string) | **string** 전체에서 패턴과 매치되는 모든 경우를 찾아 **list**로 반환함. |
| re.finditer(pattern, string) | **string** 전체에서 패턴과 일치하는 결과에 대한 **iterater** 객체를 반환함. |

### 문자열 수정 함수

> re 모듈에는 패턴과 매치된 문자열을 찾아줄 뿐만 아니라, 편집할 수 있는 함수들도 존재

| 함수 이름 | 기능 |
|:---:|:---:|
| re.sub(pattern, repl, string)	| **string** 에서 **pattern과 매칭**되는 부분을 **repl로 수정**한 문자열을 반환함. |
| re.subn(pattern, repl, string) | ```re.sub()```과 동일하지만, 함수의 결과를 ```(결과 문자열, 교체 횟수)```꼴의 튜플로 반환함. |

#### 파이썬 정규표현식 공식 문서 

> <https://docs.python.org/3/library/re.html>
